{% extends "public/base.html.twig" %}

{% block content %}
<section style="padding: 80px 20px; background: linear-gradient(to bottom, #f8fafc, #ffffff); min-height: 100vh;">
    <div style="max-width: 1200px; margin: 0 auto; padding: 0 20px;">
        <div style="text-align: center; margin-bottom: 60px;">
            <h1 style="font-size: 3rem; font-weight: 700; color: #1e293b; margin-bottom: 16px; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                Tarifs
            </h1>
            <p style="font-size: 1.25rem; color: #64748b; max-width: 600px; margin: 0 auto; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                Choisissez le plan qui correspond à vos besoins. Tous les plans incluent un essai gratuit.
            </p>
        </div>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 32px; max-width: 1100px; margin: 0 auto;">
            {% for planKey, plan in plans %}
            <div style="background: white; border-radius: 16px; padding: 40px 32px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); border: 2px solid {% if planKey == 'pro' %}#2563eb{% else %}#e2e8f0{% endif %}; transition: all 0.3s ease; position: relative; {% if planKey == 'pro' %}transform: scale(1.05);{% endif %}">
                
                {% if planKey == 'pro' %}
                <div style="position: absolute; top: -12px; left: 50%; transform: translateX(-50%); background: linear-gradient(135deg, #2563eb, #1d4ed8); color: white; padding: 6px 20px; border-radius: 20px; font-size: 0.875rem; font-weight: 600; box-shadow: 0 4px 12px rgba(37, 99, 235, 0.4);">
                    Le plus populaire
                </div>
                {% endif %}
                
                <div style="margin-bottom: 24px;">
                    <h3 style="font-size: 1.75rem; font-weight: 700; color: #1e293b; margin-bottom: 8px; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                        {{ plan.name }}
                    </h3>
                    <p style="font-size: 1rem; color: #64748b; margin: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                        {{ plan.description }}
                    </p>
                </div>
                
                <div style="margin-bottom: 32px; padding-bottom: 24px; border-bottom: 1px solid #e2e8f0;">
                    <div style="display: flex; align-items: baseline; gap: 8px;">
                        <span style="font-size: 3rem; font-weight: 700; color: #1e293b; line-height: 1; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                            {{ plan.price }}€
                        </span>
                        <span style="font-size: 1.125rem; color: #64748b; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                            /mois
                        </span>
                    </div>
                </div>
                
                <ul style="list-style: none; padding: 0; margin: 0 0 32px 0;">
                    {% for feature in plan.features %}
                    <li style="display: flex; align-items: flex-start; margin-bottom: 16px; font-size: 1rem; color: #334155; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                        <span style="flex-shrink: 0; width: 20px; height: 20px; margin-right: 12px; margin-top: 2px; background: #10b981; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center;">
                            <i class="bx bx-check" style="color: white; font-size: 14px; font-weight: bold;"></i>
                        </span>
                        <span style="flex: 1; line-height: 1.5;">{{ feature }}</span>
                    </li>
                    {% endfor %}
                </ul>
                
                <a href="/exemple/backend-mvc/public/register?plan={{ planKey }}" 
                   style="display: block; width: 100%; text-align: center; padding: 14px 24px; border-radius: 8px; font-size: 1rem; font-weight: 600; text-decoration: none; transition: all 0.2s ease; {% if planKey == 'pro' %}background: linear-gradient(135deg, #2563eb, #1d4ed8); color: white; box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);{% else %}background: #f1f5f9; color: #1e293b; border: 2px solid #e2e8f0;{% endif %}"
                   onmouseover="this.style.transform='translateY(-2px)'; {% if planKey == 'pro' %}this.style.boxShadow='0 6px 16px rgba(37, 99, 235, 0.4)'{% else %}this.style.background='#e2e8f0'{% endif %}"
                   onmouseout="this.style.transform='translateY(0)'; {% if planKey == 'pro' %}this.style.boxShadow='0 4px 12px rgba(37, 99, 235, 0.3)'{% else %}this.style.background='#f1f5f9'{% endif %}">
                    Choisir {{ plan.name }}
                </a>
            </div>
            {% endfor %}
        </div>
        
        <div style="text-align: center; margin-top: 60px; padding-top: 40px; border-top: 1px solid #e2e8f0;">
            <p style="font-size: 0.9375rem; color: #64748b; margin: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;">
                <i class="bx bx-shield-check" style="color: #10b981; margin-right: 8px;"></i>
                Tous les plans peuvent être annulés à tout moment. Aucun frais caché.
            </p>
        </div>
    </div>
</section>

<style>
    @media (max-width: 1024px) {
        section > div > div[style*="grid-template-columns"] {
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)) !important;
            gap: 24px !important;
        }
        section > div > div[style*="transform: scale(1.05)"] {
            transform: scale(1) !important;
        }
    }
    
    @media (max-width: 768px) {
        section {
            padding: 60px 16px !important;
        }
        section > div > div[style*="grid-template-columns"] {
            grid-template-columns: 1fr !important;
            gap: 24px !important;
        }
        h1 {
            font-size: 2.25rem !important;
        }
    }
</style>
{% endblock %}
